<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Pac-Man Game</title>
    <style>
        body { display: flex; justify-content: center; align-items: center; height: 100vh; background-color: black; }
        #game { position: relative; width: 400px; height: 400px; background-color: blue; }
        .pacman { width: 40px; height: 40px; background-color: yellow; position: absolute; border-radius: 50%; }
        .ghost { width: 40px; height: 40px; background-color: red; position: absolute; border-radius: 50%; }
    </style>
</head>
<body>
    <div id="game">
        <div class="pacman" id="pacman" style="top: 180px; left: 180px;"></div>
        <div class="ghost" id="ghost1" style="top: 0; left: 0;"></div>
        <div class="ghost" id="ghost2" style="top: 0; left: 360px;"></div>
    </div>
    <script>
        const pacman = document.getElementById('pacman');
        const ghosts = [document.getElementById('ghost1'), document.getElementById('ghost2')];
        let pacmanPos = { x: 180, y: 180 };
        let ghostPositions = [{ x: 0, y: 0 }, { x: 360, y: 0 }];

        document.addEventListener('keydown', (event) => {
            switch(event.key) {
                case 'ArrowUp': pacmanPos.y -= 20; break;
                case 'ArrowDown': pacmanPos.y += 20; break;
                case 'ArrowLeft': pacmanPos.x -= 20; break;
                case 'ArrowRight': pacmanPos.x += 20; break;
            }
            pacman.style.top = pacmanPos.y + 'px';
            pacman.style.left = pacmanPos.x + 'px';
            moveGhosts();
        });

        function moveGhosts() {
            ghosts.forEach((ghost, index) => {
                if (ghostPositions[index].x < pacmanPos.x) ghostPositions[index].x += 1;
                if (ghostPositions[index].x > pacmanPos.x) ghostPositions[index].x -= 1;
                if (ghostPositions[index].y < pacmanPos.y) ghostPositions[index].y += 1;
                if (ghostPositions[index].y > pacmanPos.y) ghostPositions[index].y -= 1;

                ghost.style.top = ghostPositions[index].y + 'px';
                ghost.style.left = ghostPositions[index].x + 'px';

                if (pacmanPos.x === ghostPositions[index].x && pacmanPos.y === ghostPositions[index].y) {
                    alert('Game Over!');
                    resetGame();
                }
            });
        }

        function resetGame() {
            pacmanPos = { x: 180, y: 180 };
            ghostPositions = [{ x: 0, y: 0 }, { x: 360, y: 0 }];
            pacman.style.top = pacmanPos.y + 'px';
            pacman.style.left = pacmanPos.x + 'px';
            ghosts.forEach((ghost, index) => {
                ghost.style.top = ghostPositions[index].y + 'px';
                ghost.style.left = ghostPositions[index].x + 'px';
            });
        }
    </script>
</body>
</html>
