<script>
    document.getElementById('saveGame').onclick = function() {
        const gameState = {
            clickAmount: clickAmount,
            passiveAmount: passiveAmount,
            clickValue: clickValue,
            passiveValue: passiveValue
        };
        const encodedState = btoa(JSON.stringify(gameState));
        localStorage.setItem('clickGame', encodedState);
        alert("Game saved!");
    };

    document.getElementById('loadGame').onclick = function() {
        const encodedState = localStorage.getItem('clickGame');
        if (encodedState) {
            const gameState = JSON.parse(atob(encodedState));
            clickAmount = gameState.clickAmount;
            passiveAmount = gameState.passiveAmount;
            clickValue = gameState.clickValue;
            passiveValue = gameState.passiveValue;
            document.getElementById('clickAmount').innerText = clickAmount;
            document.getElementById('passiveAmount').innerText = passiveAmount;
            alert("Game loaded!");
        } else {
            alert("No saved game found.");
        }
    };

    document.getElementById('imageUpload').onchange = function(event) {
        const file = event.target.files[0];
        const reader = new FileReader();
        reader.onload = function(e) {
            const img = document.createElement('img');
            img.src = e.target.result;
            img.onclick = function() {
                clickAmount += clickValue;
                document.getElementById('clickAmount').innerText = clickAmount;
            };
            document.body.appendChild(img);
        };
        reader.readAsDataURL(file);
    };
</script>
