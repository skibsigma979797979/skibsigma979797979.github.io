<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Click Game</title>
    <style>
        body { font-family: Arial, sans-serif; }
        #shop { display: none; }
        .item { margin: 10px; padding: 10px; border: 1px solid #ccc; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Advanced Click Game</h1>
    <div id="clickable-item" style="width: 200px; height: 200px; background-color: lightcoral; cursor: pointer;"></div>
    <p>Money: <span id="money">0</span></p>
    <button id="shop-toggle">Toggle Shop</button>
    <div id="shop">
        <h2>Shop</h2>
        <div id="items"></div>
        <input type="file" id="image-upload" accept="image/*">
        <button id="save">Save</button>
        <button id="load">Load</button>
    </div>
    <script>
        let money = 0;
        const items = Array.from({ length: 30 }, (_, i) => ({ name: `Item ${i + 1}`, cost: (i + 1) * 5 }));

        document.getElementById('clickable-item').onclick = () => {
            money++;
            document.getElementById('money').innerText = money;
        };

        document.getElementById('shop-toggle').onclick = () => {
            const shop = document.getElementById('shop');
            shop.style.display = shop.style.display === 'none' ? 'block' : 'none';
            if (shop.style.display === 'block') {
                loadShopItems();
            }
        };

        function loadShopItems() {
            const itemsDiv = document.getElementById('items');
            itemsDiv.innerHTML = '';
            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerText = `${item.name} - Cost: ${item.cost}`;
                div.onclick = () => purchaseItem(item);
                itemsDiv.appendChild(div);
            });
        }

        function purchaseItem(item) {
            if (money >= item.cost) {
                money -= item.cost;
                document.getElementById('money').innerText = money;
                alert(`Purchased ${item.name}!`);
            } else {
                alert('Not enough money!');
            }
        }

        document.getElementById('save').onclick = () => {
            const data = btoa(JSON.stringify({ money }));
            localStorage.setItem('clickGameData', data);
            alert('Game saved!');
        };

        document.getElementById('load').onclick = () => {
            const data = localStorage.getItem('clickGameData');
            if (data) {
                const { money: savedMoney } = JSON.parse(atob(data));
                money = savedMoney;
                document.getElementById('money').innerText = money;
                alert('Game loaded!');
            } else {
                alert('No saved game found.');
            }
        };

        document.getElementById('image-upload').onchange = (event) => {
            const file = event.target.files[0];
            const reader = new FileReader();
            reader.onload = (e) => {
                document.getElementById('clickable-item').style.backgroundImage = `url(${e.target.result})`;
                document.getElementById('clickable-item').style.backgroundSize = 'cover';
            };
            reader.readAsDataURL(file);
        };
    </script>
</body>
</html>
